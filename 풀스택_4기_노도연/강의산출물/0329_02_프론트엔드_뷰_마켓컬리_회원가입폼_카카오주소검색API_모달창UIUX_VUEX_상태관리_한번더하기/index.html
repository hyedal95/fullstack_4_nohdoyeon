<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>마켓컬리 회원가입폼</title>
    <link rel="stylesheet" href="./css/style.css">
    <script src="./script/lib/vue.js"></script>
    <script src="http://t1.daumcdn.net/mapjsapi/bundle/postcode/prod/postcode.v2.js"></script>
    <script src="./script/lib/postcode.v2.js"></script>
</head>
<body>
<div id="wrap">
    <header id="header"></header>
    <main id="main">
        <section id="section1">
            <div class="container">
                <div class="title">
                    <h2>회원가입</h2>
                    <p><span><i>*</i>필수입력사항</span></p>
                </div>
                <div class="content" id="signUp">
                    <form>
                        <div class="signup-box">
                            <ul>
                                <li>
                                    <div class="row-box">
                                        <div class="left">
                                            <label for="userId">아이디<i>*</i></label>
                                        </div>
                                        <div class="center">
                                            <input type="text" id="userId" name="userId" maxlength="16" v-model="아이디" placeholder="아이디를 입력해주세요">
                                        </div>
                                        <div class="right">
                                            <button>중복확인</button>
                                        </div>
                                    </div>
                                </li>
                                <li>
                                    <div class="row-box">
                                        <div class="left">
                                            <label for="userPw1">비밀번호<i>*</i></label>
                                        </div>
                                        <div class="center">
                                            <input type="password" id="userPw1" name="userPw1" maxlength="16" v-model="비밀번호"  placeholder="비밀번호를 입력해주세요" autocomplete="off">
                                        </div>
                                        <div class="right">
                                        </div>
                                    </div>
                                </li>
                                <li>
                                    <div class="row-box">
                                        <div class="left">
                                            <label for="userPw2">비밀번호확인<i>*</i></label>
                                        </div>
                                        <div class="center">
                                            <input type="password" id="userPw2" name="userPw2" maxlength="16"  v-model="비밀번호확인"  placeholder="비밀번호를 한번 더 입력해주세요" autocomplete="off">
                                        </div>
                                        <div class="right">
                                        </div>
                                    </div>
                                </li>
                                <li>
                                    <div class="row-box">
                                        <div class="left">
                                            <label for="userName">이름<i>*</i></label>
                                        </div>
                                        <div class="center">
                                            <input type="text" id="userName" name="userName"  v-model="이름" placeholder="이름을 입력해주세요">
                                        </div>
                                        <div class="right">

                                        </div>
                                    </div>
                                </li>
                                <li>
                                    <div class="row-box">
                                        <div class="left">
                                            <label for="userEmail">이메일<i>*</i></label>
                                        </div>
                                        <div class="center">
                                            <input type="text" id="userEmail" name="userEmail"  v-model="이메일"  placeholder="예:moonseonjong@naver.com">
                                        </div>
                                        <div class="right">
                                            <button>중복확인</button>
                                        </div>
                                    </div>
                                </li>
                                <li>
                                    <div class="row-box">
                                        <div class="left">
                                            <label for="userHp">휴대폰<i>*</i></label>
                                        </div>
                                        <div class="center">
                                            <input type="text" id="userHp" name="userHp"  v-model="휴대폰" placeholder="숫자만 입력해주세요">
                                        </div>
                                        <div class="right">
                                            <button class="off">비밀번호받기</button>
                                        </div>
                                    </div>
                                </li>
                                <li>
                                    <div class="row-box">
                                        <div class="left">
                                            <label>주소<i>*</i></label>
                                        </div>
                                        <div class="center">
                                            <input type="text" id="userAddress" name="userAddress"  v-model="주소" placeholder="주소를 검색해주세요.">
                                            <input type="button" id="userAddrBtn" name="userAddrBtn" @click.prevent="addrSearchMethod()" value="    주소검색">
                                            <p class="addre-guide-text">배송지에 따라 상품 정보가 달라질 수 있습니다.</p>
                                        </div>
                                        <div class="right">
                                            
                                        </div>
                                    </div>
                                </li>
                                <li>
                                    <div class="row-box">
                                        <div class="left">
                                            <label>성별</label>
                                        </div>
                                        <div class="center">
                                            <div class="radio-box">
                                                <label><input v-model="성별" type="radio" id="male"   name="gender" value="남자"><span>남자</span></label>
                                                <label><input v-model="성별" type="radio" id="female" name="gender" value="여자"><span>여자</span></label>
                                                <label><input v-model="성별" type="radio" id="none"   name="gender" value="선택안함"><span>선택안함</span></label>
                                            </div>
                                        </div>
                                        <div class="right">
                                            
                                        </div>
                                    </div>
                                </li>
                                <li>
                                    <div class="row-box">
                                        <div class="left">
                                            <label for="year">생년월일</label>
                                        </div>
                                        <div class="center">
                                            <div class="birth-box">
                                                <input v-model="생년" maxlength="4" type="text" id="year"   name="birth" placeholder="YYYY">
                                                <i>/</i>
                                                <input v-model="생월" maxlength="2" type="text" id="month" name="birth" placeholder="MM">
                                                <i>/</i>
                                                <input v-model="생일" maxlength="2" type="text" id="date"   name="birth" placeholder="DD">
                                            </div>
                                        </div>
                                        <div class="right">
                                            
                                        </div>
                                    </div>
                                </li>
                                <li>
                                    <div class="row-box">
                                        <div class="left">
                                            <label>추가입력 사항</label>
                                        </div>
                                        <div class="center">
                                            <div class="radio-box">
                                                <label><input v-model="추가입력사항" type="radio" id="chooga1" name="chooga" value="친구초대 추천인 아이디"><span>친구초대 추천인 아이디</span></label>
                                                <label><input v-model="추가입력사항" type="radio" id="chooga2" name="chooga" value="참여 이벤트명"><span>참여 이벤트명</span></label>
                                            </div>
                                        </div>
                                        <div class="right">
                                            
                                        </div>
                                    </div>
                                </li>


                                <!-- 가로줄 -->
                                <li class="hr">
                                    
                                     <hr>
                                    
                                </li>
                                 
                                <!-- 이용약관동의 -->
                                <li>
                                    <div class="row-box service">
                                        <div class="left">
                                            <label>이용약관동의<i>*</i></label>
                                        </div>
                                        <div class="center">
                                            <div class="check-box">
                                                <!-- 전체동의 => v-model="이용약관동의" 삭제 => 동의목록에 포함이 안되기 때문에 -->
                                                <!-- <label><input @input="inputCheckAll" type="checkbox" id="chkAll" name="chk" value="전체 동의합니다." :checked="이용약관동의.length===7?true:false"><span>전체 동의합니다.</span></label> -->
                                                <label><input @input="inputCheckAll" type="checkbox" id="chkAll" name="chk" value="전체 동의합니다." :checked="이용약관동의.length===7?true:false"><span>전체 동의합니다.</span></label>
                                            </div>
                                            <p>선택항목에 동의하지 않은 경우도 회원가입 및 일반적인 서비스를 이용할 수 있습니다.</p>
                                        </div>
                                        <div class="center">
                                            <div class="check-box">
                                                <label><input v-model="이용약관동의" type="checkbox" id="chk1" name="chk" value="이용약관 동의(필수)"><span>이용약관 동의</span></label><em>(필수)</em>
                                            </div>
                                        </div>
                                        <div class="center">
                                            <div class="check-box">
                                                <label><input v-model="이용약관동의" type="checkbox" id="chk2" name="chk" value="개인정보 수집∙이용 동의(필수)"><span>개인정보 수집∙이용 동의</span></label><em>(필수)</em>
                                            </div>
                                        </div>
                                        <div class="center">
                                            <div class="check-box">
                                                <label><input v-model="이용약관동의" type="checkbox" id="chk3" name="chk" value="개인정보 수집∙이용 동의(선택)"><span>개인정보 수집∙이용 동의</span></label><em>(선택)</em>
                                            </div>
                                        </div>
                                        <div class="center">
                                            <div class="check-box"> <!-- v-model 추가해야하니깐 이벤트를 추가시킨다. -->
                                                <label><input v-model="이용약관동의" @input="inputChk4" type="checkbox" id="chk4" name="chk" value="무료배송, 할인쿠폰 등 혜택/정보 수신 동의(선택)" ><span>무료배송, 할인쿠폰 등 혜택/정보 수신 동의</span></label><em>(선택)</em>
                                            </div>
                                        </div>
                                        <div class="center">
                                            <div class="check-box sns-email-check">
                                                <label><input v-model="이용약관동의" @input="inputChk5" type="checkbox" id="chk5" name="chk" value="SNS"><span>SNS</span></label> 
                                                <label><input v-model="이용약관동의" @input="inputChk6" type="checkbox" id="chk6" name="chk" value="이메일"><span>이메일</span></label>
                                            </div>
                                            <p>동의 시 한 달간 [5%적립] + [2만원 이상 무료배송] 첫 주문 후 안내</p>
                                        </div>
                                        
                                        <div class="center">
                                            <div class="check-box">
                                                <label><input v-model="이용약관동의" type="checkbox" id="chk7" name="chk" value="본인은 만 14세 이상입니다.(필수)"><span>본인은 만 14세 이상입니다.</span></label><em>(필수)</em>
                                            </div>
                                        </div>
                                        
                                    </div>
                                </li>


                            </ul>
                            <div class="submit-box">
                                <button type="submit">가입하기</button>
                            </div>
                        </div>
                    </form>
                </div>
            </div>
        </section>
    </main>
    <footer id="footer"></footer>

    <!-- 모달창 만들기 -->
    <div class="modal">
        <div class="wrap">
            <div class="container">
                <div class="window-title"></div>
                <div class="title"></div>
                <div class="content"></div>
            </div>
        </div>
    </div>
    

    <script>
        const vue = new Vue({
            data(){ // 메서드 방식은 리턴이 필요
                return{
                    아이디:'',
                    비밀번호:'',
                    비밀번호확인:'',
                    이름:'',
                    이메일:'',
                    휴대폰:'',
                    주소:'',
                    성별:'선택안함',
                    생년:'',
                    생월:'',
                    생일:'',
                    추가입력사항:'',
                    이용약관전체: [
                        "이용약관 동의(필수)",
                        "개인정보 수집∙이용 동의(필수)",
                        "개인정보 수집∙이용 동의(선택)",
                        "무료배송, 할인쿠폰 등 혜택/정보 수신 동의(선택)",
                        "이메일",
                        "SNS",
                        "본인은 만 14세 이상입니다.(필수)"
                    ], //이용약관의 전체목록 = 이용약관전체
                    이용약관동의: [],
                    
                }
            },
            methods: { // 메서드 방식은 리턴이 필요
                
                addrSearchMethod: function(){
                    //카카오 주소 검색 api 기능
                    new daum.Postcode({
                        oncomplete:(data) => {
                            console.log(data);
                            console.log(data.address);
                            console.log(data.zonecode);
                            //this.주소 = data.address; //주소 바인딩
                            this.주소 = `${data.zonecode} ${data.address}`;
                        }
                    }).open();
                },
                // 체크박스 => 전체동의 이벤트 구현
                inputCheckAll(e){
                    console.log(e);
                    console.log("클릭체크 대상요소 "+ e.target);
                    console.log("체크된 상자의 ID "+e.target.id);
                    console.log("체크된 상자의 값 "+ e.target.value);
                    console.log("체크상태 "+ e.target.checked);
                    //전체 동의가 체크되면, ==> 이용약관동의 [] = 이용약관전체
                    if(e.target.checked ===true){
                        this.이용약관동의 = this.이용약관전체
                    }else{
                        this.이용약관동의 = [];  // 빈배열 [] 전체 배열 내용 사라짐.
                    }
                },
                inputChk4(e){ // 무료 배송 체크4 이벤트 => sns,이메일 체크하게 한다.  //사용자정의함수
                    if(e.target.checked){
                        // this.이용약관동의 = [이전데이터,'SNS','이메일']  <= 이크마식스 전개연산자   기존데이터를 유지하고 추가한다. 
                        // 이용약관동의 배열 목록, 전개연산자 사용[...this.이용약관동의,'SNS','이메일']에 추가한다.
                        this.이용약관동의 = [...this.이용약관동의,'SNS','이메일']
                    }else{
                        //sns,이메일 만 !== 제외하고 이용약관동의 목록 필터링 재구성 =필터링
                        //필터 () filter() 한줄 코딩 () => 화살표함수로 즉시 리턴 
                        this.이용약관동의 = this.이용약관동의.filter((i)=>i!=='SNS' && i!=='이메일') ; // 삭제도!! 
                    }

                },
                // chk5 : SNS체크 되고 && chk6 :이메일 을 체크하면 => chk4 무료배송...체크된다.
                // chk5 : SNS체크해제 되거나 || chk6 :이메일 을 체크해제되면 => chk4 무료배송...체크해제된다.
                inputChk5(e){ //포함이 되어있냐? 이크마식스버젼에 제공됨. 명령어로는 .includes('') 포함되어있나?!! 
                    if(e.target.checked && this.이용약관동의.includes('이메일')===true){ // 인클루드스 .includes('이메일')포함되었는지
                        this.이용약관동의 = [...this.이용약관동의, "무료배송, 할인쿠폰 등 혜택/정보 수신 동의(선택)"]
                    }else{
                        this.이용약관동의 = this.이용약관동의.filter((i)=>{i!=="무료배송, 할인쿠폰 등 혜택/정보 수신 동의(선택)"})
                    }
                },
                
                inputChk6(e){ //이메일체크
                    if(e.target.checked && this.이용약관동의.includes('SNS')===true){
                        this.이용약관동의 = [...this.이용약관동의, "무료배송, 할인쿠폰 등 혜택/정보 수신 동의(선택)"]
                    }else{
                        this.이용약관동의 = this.이용약관동의.filter((i)=>{i!=="무료배송, 할인쿠폰 등 혜택/정보 수신 동의(선택)"})
                    }
                },
            }
        });
        vue.$mount('#signUp');
    </script>

</div>    
</body>
</html>